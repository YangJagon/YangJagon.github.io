

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="A Code Farmer">
  <meta name="author" content="Yang Jagon">
  <meta name="keywords" content="博客, 信息技术, 笔记">
  <title>Git 基础（粗略笔记） - Somebody&#39;s Notes</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.1.2/styles/lioshi.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"blog.yjg.ink","root":"/","version":"1.8.5","typing":{"enable":true,"typeSpeed":54,"cursorChar":"|","loop":false},"toc":{"enable":true,"headingSelector":"h1,h2,h3","collapseDepth":1},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"copy_btn":true,"image_zoom":{"enable":true},"lazyload":{"enable":true,"onlypost":true},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null}}};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Someone's Notes</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/evening.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Git 基础（粗略笔记）">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2020-01-13 00:00" pubdate>
        2020年1月13日 凌晨
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.1k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      41
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>

    <div class="col-lg-8 nopadding-md mlpad">
      <div class="container nopadding-md nopadding" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Git 基础（粗略笔记）</h1>
            
            <div class="markdown-body">
              <h1 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h1><p>Git 有三种状态，已提交（committed）、已修改（modified）和已暂存（staged）。<br>Git 项目的三个工作区域的概念：Git 仓库、工作目录和暂存区域。</p>
<h2 id="git文件生命周期图"><a href="#git文件生命周期图" class="headerlink" title="git文件生命周期图"></a>git文件生命周期图</h2><p><img src="/images/Git/gitfile.png" srcset="/img/loading.gif" alt="gitfile"></p>
<h2 id="git-初始设置以及查看和帮助命令"><a href="#git-初始设置以及查看和帮助命令" class="headerlink" title="git 初始设置以及查看和帮助命令"></a>git 初始设置以及查看和帮助命令</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 安装完git后首先需要设置用户名和邮箱</span>
<span class="hljs-meta">$</span><span class="bash"> git config --global user.name <span class="hljs-string">&quot;John Doe&quot;</span> </span>
<span class="hljs-meta">$</span><span class="bash"> git config --global user.email johndoe@example.com</span>

<span class="hljs-meta">#</span><span class="bash"> 列出所有 Git 当时能找到的配置</span>
<span class="hljs-meta">$</span><span class="bash"> git config --list	</span>
user.name=John Doe 
user.email=johndoe@example.com 
color.status=auto 
...

<span class="hljs-meta">#</span><span class="bash"> 查看某一项的设置</span>
<span class="hljs-meta">$</span><span class="bash"> git config user.name	</span>
John Doe

<span class="hljs-meta">#</span><span class="bash"> 获取帮助，如 git <span class="hljs-built_in">help</span> config</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">help</span> &lt;verb&gt; </span>
<span class="hljs-meta">$</span><span class="bash"> git &lt;verb&gt; --<span class="hljs-built_in">help</span> </span>
<span class="hljs-meta">$</span><span class="bash"> man git-&lt;verb&gt;</span></code></pre></div>

<h2 id="初始git仓库命令"><a href="#初始git仓库命令" class="headerlink" title="初始git仓库命令"></a>初始git仓库命令</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 该命令将创建一个名为.git的子目录，这个子目录含有初始化Git仓库中所有的必须文件</span>
<span class="hljs-meta">$</span><span class="bash"> git init</span>

<span class="hljs-meta">#</span><span class="bash"> 克隆一个仓库到本地</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">clone</span> https://github.com/libgit2/libgit2</span>
<span class="hljs-meta">#</span><span class="bash"> 与上一命令相同，只不过在本地的仓库名字改为<span class="hljs-string">&quot;mylibgit&quot;</span></span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">clone</span> https://github.com/libgit2/libgit2 mylibgit</span></code></pre></div>

<h2 id="配置GitHub的ssh密钥"><a href="#配置GitHub的ssh密钥" class="headerlink" title="配置GitHub的ssh密钥"></a>配置GitHub的ssh密钥</h2><p>默认情况下，用户的 SSH 密钥存储在其 ~/.ssh 目录下。 进入该目录并列出其中内容，你便可以快速确认自己是否已拥有密钥。如若没有，可以使用 sh-keygen 命令生成一个密钥：</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> ssh-keygen </span>
Generating public/private rsa key pair. 
Enter file in which to save the key (/home/schacon/.ssh/id_rsa): 
Created directory &#x27;/home/schacon/.ssh&#x27;. 
Enter passphrase (empty for no passphrase): 
Enter same passphrase again: 
Your identification has been saved in /home/schacon/.ssh/id_rsa. 
Your public key has been saved in /home/schacon/.ssh/id_rsa.pub. 
The key fingerprint is:
d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 schacon@mylaptop.local</code></pre></div>

<p>首先 ssh-keygen 会确认密钥的存储位置（默认是 .ssh/id_rsa），然后它会要求你输入两次密钥口令。如果你不想在使用密钥时输入口令，将其留空即可。</p>
<p>最后只需进入github账户，进入账户 SSH keys 页面，点击“Add an SSH key”按钮，给你的公钥起一个名字，将你的<code>~/.ssh/id_rsa.pub</code>（或者自定义的其它名字）公钥文件的内容粘贴到文本区，然后点击`‘Add key’’即可。</p>
<h2 id="操作git仓库命令"><a href="#操作git仓库命令" class="headerlink" title="操作git仓库命令"></a>操作git仓库命令</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 查看当前仓库状态</span>
<span class="hljs-meta">$</span><span class="bash"> git status</span>

<span class="hljs-meta">#</span><span class="bash"> 追踪新文件</span>
<span class="hljs-meta">$</span><span class="bash"> git add README</span>

<span class="hljs-meta">#</span><span class="bash"> 删除文件</span>
<span class="hljs-meta">$</span><span class="bash"> git rm README</span>

<span class="hljs-meta">#</span><span class="bash"> 让文件保留在磁盘，但是并不想让 Git 继续跟踪</span>
<span class="hljs-meta">$</span><span class="bash"> git rm --cached README</span>

<span class="hljs-meta">#</span><span class="bash"> 移动文件</span>
<span class="hljs-meta">$</span><span class="bash"> git mv file_from file_to</span></code></pre></div>

<h2 id="忽略文件"><a href="#忽略文件" class="headerlink" title="忽略文件"></a>忽略文件</h2><p>我们可以创建一个名为 .gitignore 的文件，列出要忽略的文件模式</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> cat .gitignore </span>
<span class="hljs-meta">#</span><span class="bash"> no .a files </span>
*.a

<span class="hljs-meta">#</span><span class="bash"> but <span class="hljs-keyword">do</span> track lib.a, even though you<span class="hljs-string">&#x27;re ignoring .a files above </span></span>
!lib.a

<span class="hljs-meta">#</span><span class="bash"> only ignore the TODO file <span class="hljs-keyword">in</span> the current directory, not subdir/TODO </span>
/TODO

<span class="hljs-meta">#</span><span class="bash"> ignore all files <span class="hljs-keyword">in</span> the build/ directory </span>
build/

<span class="hljs-meta">#</span><span class="bash"> ignore doc/notes.txt, but not doc/server/arch.txt </span>
doc/*.txt

<span class="hljs-meta">#</span><span class="bash"> ignore all .pdf files <span class="hljs-keyword">in</span> the doc/ directory </span>
doc/**/*.pdf</code></pre></div>

<p>规范如下：</p>
<ol>
<li>所有空行或者以 ＃ 开头的行都会被 Git 忽略。 </li>
<li>可以使用标准的 glob 模式匹配。 </li>
<li>匹配模式可以以（/）开头防止递归。 </li>
<li>匹配模式可以以（/）结尾指定目录。 </li>
<li>要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号（!）取反</li>
</ol>
<h2 id="查看已暂存和未暂存的修改"><a href="#查看已暂存和未暂存的修改" class="headerlink" title="查看已暂存和未暂存的修改"></a>查看已暂存和未暂存的修改</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git diff	<span class="hljs-comment">#查看尚未暂存的文件更新了哪些部分</span></span>
<span class="hljs-meta">$</span><span class="bash"> git diff --cached <span class="hljs-comment">#查看已暂存的将要添加到下次提交里的内容</span></span></code></pre></div>

<h2 id="提交更新"><a href="#提交更新" class="headerlink" title="提交更新"></a>提交更新</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git commit</span>
<span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">&quot;Story 182: Fix benchmarks for speed&quot;</span></span></code></pre></div>

<h2 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 查看提交历史</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span></span>

<span class="hljs-meta">#</span><span class="bash"> 加 -p 显示每次提交的内容差异，加上-2来仅显示最近两次提交</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> -p -2</span>

<span class="hljs-meta">#</span><span class="bash"> 加 --<span class="hljs-built_in">stat</span> 显示每次提交的简略的统计信息</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --<span class="hljs-built_in">stat</span></span>

<span class="hljs-meta">#</span><span class="bash"> 加 --pretty 可以指定使用不同于默认格式的方式展示提交历史,还有short, full, fuller, format</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --pretty=oneline</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --pretty=format:<span class="hljs-string">&quot;%h - %an, %ar : %s&quot;</span> --graph <span class="hljs-comment">#加graph可以更形象展示</span></span>
<span class="hljs-meta">#</span><span class="bash"> 还有更多限制查阅《Pro Git》</span></code></pre></div>

<h2 id="撤消操作"><a href="#撤消操作" class="headerlink" title="撤消操作"></a>撤消操作</h2><h3 id="重新提交"><a href="#重新提交" class="headerlink" title="重新提交"></a>重新提交</h3><p>有时候我们提交完了才发现漏掉了几个文件没有添加，或者提交信息写错了。 此时，可以运行带有 <strong>–amend</strong> 选项的提交命令尝试重新提交：</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git commit -m <span class="hljs-string">&#x27;initial commit&#x27;</span></span>
<span class="hljs-meta">$</span><span class="bash"> git add forgotten_file</span>
<span class="hljs-meta">$</span><span class="bash"> git commit --amend</span></code></pre></div>

<h3 id="取消暂存文件"><a href="#取消暂存文件" class="headerlink" title="取消暂存文件"></a>取消暂存文件</h3><p>使用 <strong>git reset HEAD <fileName></strong> 取消暂存文件</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git add *</span>
<span class="hljs-meta">$</span><span class="bash"> git status</span>
On branch master
Changes to be committed:
  (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)
  renamed: README.md -&gt; README
  modified: CONTRIBUTING.md
<span class="hljs-meta">$</span><span class="bash"> git reset HEAD CONTRIBUTING.md</span></code></pre></div>

<h3 id="撤消对文件的修改"><a href="#撤消对文件的修改" class="headerlink" title="撤消对文件的修改"></a>撤消对文件的修改</h3><p>使用 **git  checkout –**，对文件做的任何修改都会消失，相当于只是拷贝了另一个文件来覆盖它。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status</span>
Changes not staged for commit:
  (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)
  (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working
directory)
  modified: CONTRIBUTING.md
<span class="hljs-meta">$</span><span class="bash"> git checkout -- CONTRIBUTING.md</span></code></pre></div>

<h2 id="远程仓库的使用"><a href="#远程仓库的使用" class="headerlink" title="远程仓库的使用"></a>远程仓库的使用</h2><h3 id="查看远程仓库"><a href="#查看远程仓库" class="headerlink" title="查看远程仓库"></a>查看远程仓库</h3><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 使用 git remote 查看远程仓库信息，origin是Git给克隆的仓库服务器的默认名字</span>
<span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">clone</span> https://github.com/schacon/ticgit</span>
Cloning into &#x27;ticgit&#x27;...
<span class="hljs-meta">$</span><span class="bash"> <span class="hljs-built_in">cd</span> ticgit</span>
<span class="hljs-meta">$</span><span class="bash"> git remote</span>
origin

<span class="hljs-meta">$</span><span class="bash"> git remote -v <span class="hljs-comment"># -v会显示需要读写远程仓库使用的 Git 保存的简写与其对应的 URL</span></span>

<span class="hljs-meta">#</span><span class="bash"> 要查看某一个远程仓库的更多信息，可以使用 git remote show [remote-name] 命令。</span>
<span class="hljs-meta">$</span><span class="bash"> git remote show origin</span></code></pre></div>

<h3 id="添加、移除与重命名远程仓库"><a href="#添加、移除与重命名远程仓库" class="headerlink" title="添加、移除与重命名远程仓库"></a>添加、移除与重命名远程仓库</h3><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 添加一个新的远程 Git 仓库</span>
<span class="hljs-meta">$</span><span class="bash"> git remote add pb https://github.com/paulboone/ticgit</span>
<span class="hljs-meta">$</span><span class="bash"> git remote</span>
origin
pb

<span class="hljs-meta">#</span><span class="bash"> 重命名引用的名字</span>
<span class="hljs-meta">$</span><span class="bash"> git remote rename pb paul</span>
<span class="hljs-meta">$</span><span class="bash"> git remote</span>
origin
paul

<span class="hljs-meta">#</span><span class="bash"> 移除一个远程仓库</span>
<span class="hljs-meta">$</span><span class="bash"> git remote rm paul</span>
<span class="hljs-meta">$</span><span class="bash"> git remote</span>
origin</code></pre></div>

<h3 id="抓取和推送远程仓库"><a href="#抓取和推送远程仓库" class="headerlink" title="抓取和推送远程仓库"></a>抓取和推送远程仓库</h3><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash">访问远程仓库，从中拉取所有你还没有的数据。 执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。</span>
<span class="hljs-meta">$</span><span class="bash"> git fetch [remote-name]</span>

<span class="hljs-meta">#</span><span class="bash"> 将master分支推送到origin服务器</span>
<span class="hljs-meta">$</span><span class="bash"> git push origin master</span></code></pre></div>

<h2 id="打标签"><a href="#打标签" class="headerlink" title="打标签"></a>打标签</h2><p>Git 可以给历史中的某一个提交打上标签，以示重要。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 列出标签</span>
<span class="hljs-meta">$</span><span class="bash"> git tag</span>
v0.1
v1.3

<span class="hljs-meta">#</span><span class="bash"> 如果只对1.8.5系列感兴趣</span>
<span class="hljs-meta">$</span><span class="bash"> git tag -l <span class="hljs-string">&#x27;v1.8.5*&#x27;</span></span>
v1.8.5
v1.8.5-rc0</code></pre></div>

<p>标签分为<strong>轻量标签</strong>（lightweight）与<strong>附注标签</strong>（annotated）。一个<strong>轻量标签</strong>很像一个不会改变的分支，它只是一个特定提交的引用。<strong>附注标签</strong>是存储在 Git 数据库中的一个完整对象。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 添加一个附注标签</span>
<span class="hljs-meta">$</span><span class="bash"> git tag -a v1.4 -m <span class="hljs-string">&#x27;my version 1.4&#x27;</span></span>

<span class="hljs-meta">#</span><span class="bash"> 添加一个轻量标签</span>
<span class="hljs-meta">$</span><span class="bash"> git tag v1.4-lw</span></code></pre></div>

<p>Git可以后期打标签</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --pretty=oneline</span>
166ae0c4d3f420721acbb115cc33848dfcc2121a started write support
9fceb02d0ae598e95dc970b74767f19372d61af8 updated rakefile
964f16d36dfccde844893cac5b347e7b3d44abbc commit the todo
8a5cbc430f1a9c3d00faaeffd07798508422908a updated readme

<span class="hljs-meta">#</span><span class="bash"> 在命令的末尾指定提交的校验和（或部分校验和）:</span>
<span class="hljs-meta">$</span><span class="bash"> git tag -a v1.2 9fceb02</span></code></pre></div>

<p>默认情况下，git push 命令并不会传送标签到远程仓库服务器上。 在创建完标签后你必须显式地推送标签到共享服务器上。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 推送标签到origin服务器上</span>
<span class="hljs-meta">$</span><span class="bash"> git push origin v1.5</span>

<span class="hljs-meta">#</span><span class="bash"> 一次性推送多个标签</span>
<span class="hljs-meta">$</span><span class="bash"> git push origin --tags</span></code></pre></div>

<p>在 Git 中并不能真的检出一个标签，因为它们并不能像分支一样来回移动。如果想要工作目录与仓库中特定的标签版本完全一样，可以使用 <strong>git checkout -b [branchname] [tagname]</strong> 在特定的标签上创建一个新分支：</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout -b version2 v2.0.0</span>
Switched to a new branch &#x27;version2&#x27;</code></pre></div>

<p>当然，如果在这之后又进行了一次提交，version2 分支会因为改动向前移动了，那么 version2 分支就会和 v2.0.0 标签稍微有些不同，这时就应该当心了。</p>
<h2 id="Git-别名"><a href="#Git-别名" class="headerlink" title="Git 别名"></a>Git 别名</h2><p>可以通过 <strong>git config</strong> 文件来轻松地为每一个命令设置一个别名。 </p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 使 “git unstage fileA” 和 “git reset HEAD -- fileA” 等价</span>
<span class="hljs-meta">$</span><span class="bash"> git config --global alias.unstage <span class="hljs-string">&#x27;reset HEAD --&#x27;</span></span></code></pre></div>

<h1 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h1><h2 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h2><p>Git 有一个名为 HEAD 的特殊指针，指向当前所在的本地分支。可以简单地使用 <strong>git log</strong> 命令查看各个分支当前所指的对象。 提供这一功能的参数是 <strong>–decorate</strong>。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git <span class="hljs-built_in">log</span> --oneline --decorate --graph --all</span>
* c2b9e (HEAD, master) made other changes
| * 87ab2 (testing) made a change
|/
* f30ab add feature #32 - ability to add new formats to the
* 34ac2 fixed bug #1328 - stack overflow under certain conditions
* 98ca9 initial commit of my project</code></pre></div>

<h2 id="创建分支"><a href="#创建分支" class="headerlink" title="创建分支"></a>创建分支</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch testing </span></code></pre></div>

<h2 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout testing </span>

<span class="hljs-meta">#</span><span class="bash">若要新建一个分支并同时切换到新分支，可以在checkout后面加 -b</span>
<span class="hljs-meta">$</span><span class="bash"> git checkout -b testing </span></code></pre></div>

<h2 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 若想将分支testing合并到master中</span>
<span class="hljs-meta">$</span><span class="bash"> git checkout master</span>
Switched to branch &#x27;master&#x27;
<span class="hljs-meta">$</span><span class="bash"> git merge testing</span></code></pre></div>

<h2 id="分支变基"><a href="#分支变基" class="headerlink" title="分支变基"></a>分支变基</h2><p>变基的原理是首先找到这两个分支（即当前分支 experiment、变基操作的目标基底分支 master）的最近共同祖 先 C2，然后对比当前分支相对于该祖先的历次提交，提取相应的修改并存为临时文件，然后将当前分支指向目标基底 C3, 最后以此将之前另存为临时文件的修改依序应用。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git checkout experiment</span>
<span class="hljs-meta">$</span><span class="bash"> git rebase master</span>
First, rewinding head to replay your work on top of it...
Applying: added staged command</code></pre></div>

<p><img src="/images/Git/rebase.png" srcset="/img/loading.gif" alt="rebase"></p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 将server中的修改变基到master上</span>
<span class="hljs-meta">$</span><span class="bash"> git rebase master server</span>

<span class="hljs-meta">#</span><span class="bash"> 取出client分支，找出处于client分支和server分支的共同祖先之后的修改，然后把它们在master分支上重放一遍</span>
<span class="hljs-meta">$</span><span class="bash"> git rebase --onto master server client</span></code></pre></div>

<h2 id="删除分支"><a href="#删除分支" class="headerlink" title="删除分支"></a>删除分支</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git branch -d testing</span></code></pre></div>

<h2 id="分支冲突"><a href="#分支冲突" class="headerlink" title="分支冲突"></a>分支冲突</h2><p> 产生合并冲突时，Git会暂停下来，等待你去解决合并产生的冲突。 你可以在合并冲突后的任意时刻使用 git status 命令来查看那些因包含合并冲突而处于未合并 （unmerged）状态的文件： </p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git status</span>
On branch master
You have unmerged paths.
  (fix conflicts and run &quot;git commit&quot;)
Unmerged paths:
  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)
  both modified: index.html
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;</code></pre></div>

<h2 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> git branch 不加任何参数运行它，会得到当前所有分支的一个列表：</span>
<span class="hljs-meta">$</span><span class="bash"> git branch</span>
  iss53
* master
  testing
  
<span class="hljs-meta">#</span><span class="bash"> 如果需要查看每一个分支的最后一次提交，可以运行 git branch -v 命令：</span>
<span class="hljs-meta">$</span><span class="bash"> git branch -v</span>
  iss53 93b412c fix javascript issue
* master 7a98805 Merge branch &#x27;iss53&#x27;
  testing 782fd34 add scott to the author list in the readmes

<span class="hljs-meta">#</span><span class="bash"> --merged 与 --no-merged 这两个有用的选项可以过滤这个列表中已经合并或尚未合并到当前分支的分支。</span>
<span class="hljs-meta">$</span><span class="bash"> git branch --merged	<span class="hljs-comment">#查看哪些分支已经合并到当前分支</span></span>
  iss53
* master

<span class="hljs-meta">$</span><span class="bash"> git branch --no-merged <span class="hljs-comment">#查看所有包含未合并工作的分支</span></span>
  testing
  
<span class="hljs-meta">#</span><span class="bash"> 由于此时testing分支还未合并，所以无法正常删除</span>
<span class="hljs-meta">$</span><span class="bash"> git branch -d testing</span>
error: The branch &#x27;testing&#x27; is not fully merged.
If you are sure you want to delete it, run &#x27;git branch -D testing&#x27;.</code></pre></div>

<h2 id="查看远程分支"><a href="#查看远程分支" class="headerlink" title="查看远程分支"></a>查看远程分支</h2><p>远程引用是对远程仓库的引用（指针），包括分支、标签等等。你可以通过 <strong>git ls-remote (remote)</strong> 来 显式地获得远程引用的完整列表，或者通过 <strong>git remote show (remote)</strong> 获得远程分支的更多信息。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git ls-remote (remote)</span>
<span class="hljs-meta">$</span><span class="bash"> git remote show (remote)</span></code></pre></div>

<h2 id="抓取远程分支"><a href="#抓取远程分支" class="headerlink" title="抓取远程分支"></a>抓取远程分支</h2><p>当 git fetch 命令从服务器上抓取本地没有的数据时，它并不会修改工作目录中的内容。 它只会获取数据然 后让你自己合并。 然而，有一个命令叫作 git pull 在大多数情况下它的含义是一个 git fetch 紧接着一个 git merge 命令。</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git fetch teamone</span>
remote: Counting objects: 7, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 3 (delta 0)
Unpacking objects: 100% (3/3), done.
From https://github.com/schacon/simplegit
 * [new branch] serverfix -&gt; teamone/serverfix</code></pre></div>

<h2 id="跟踪远程分支"><a href="#跟踪远程分支" class="headerlink" title="跟踪远程分支"></a>跟踪远程分支</h2><p>当抓取到新的远程跟踪分支时，本地不会自动生成一份可编辑的副本（拷贝）。可以运行 <strong>git merge teamone/serverfix</strong> 将这些工作合并到当前所在的分支。 如果想要在自己的 serverfix 分支上工作，可以将其建立在远程跟踪分支之上：</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 相当于 git checkout --track origin/serverfix</span>
<span class="hljs-meta">$</span><span class="bash"> git checkout -b serverfix teamone/serverfix</span>
Branch serverfix set up to track remote branch serverfix from teamone.
Switched to a new branch &#x27;serverfix&#x27;

<span class="hljs-meta">#</span><span class="bash"> 设置已有的本地分支跟踪一个刚刚拉取下来的远程分支</span>
<span class="hljs-meta">$</span><span class="bash"> git branch -u origin/serverfix</span>
Branch serverfix set up to track remote branch serverfix from origin.</code></pre></div>

<h2 id="推送远程分支"><a href="#推送远程分支" class="headerlink" title="推送远程分支"></a>推送远程分支</h2><div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> 推送本地的serverfix分支来更新远程仓库上的serverfix分支。</span>
<span class="hljs-meta">$</span><span class="bash"> git push origin serverfix</span>

<span class="hljs-meta">#</span><span class="bash"> 将本地的serverfix分支推送到远程仓库上的awesomebranch分支。</span>
<span class="hljs-meta">$</span><span class="bash"> git push origin serverfix:awesomebranch </span></code></pre></div>

<h2 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h2><p>可以运行带有 <strong>–delete</strong> 选项的 <strong>git push</strong> 命令来删 除一个远程分支。 如果想要从服务器上删除 serverfix 分支，运行下面的命令：</p>
<div class="hljs"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> git push origin --delete serverfix</span>
To https://github.com/schacon/simplegit
 - [deleted] serverfix</code></pre></div>


            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/Git/">Git</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Git/">Git</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/Git%20%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E6%95%B4%E5%90%88.html">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Git 常用命令整合</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/JAVA%20%E6%A1%A5%E6%96%B9%E6%B3%95.html">
                        <span class="hidden-mobile">JAVA 桥方法</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>
            
          </article>
        </div>
      </div>
    </div>

    
      <div class="d-none d-lg-block col-lg-2 toc-container nopadding" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <span>© 2020</span> <i class="iconfont icon-pen"></i> <a href="https://github.com/YangJagon" target="_blank" rel="nofollow noopener"><span>Yang Jagon</span></a> 
  </div>
  

  

  
</footer>

<!-- SCRIPTS -->

  <script  src="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":true,"trickleSpeed":200})
    NProgress.start()
    document.addEventListener('DOMContentLoaded', function() {
      window.NProgress && window.NProgress.inc();
    })
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.5.3/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    
      <script  src="/js/lazyload.js" ></script>
    
  



  



  <script  src="https://cdn.staticfile.org/tocbot/4.12.0/tocbot.min.js" ></script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.3.0/anchor.min.js" ></script>



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>





  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    (function () {
      var path = "/local-search.xml";
      var inputArea = document.querySelector("#local-search-input");
      inputArea.onclick = function () {
        searchFunc(path, 'local-search-input', 'local-search-result');
        this.onclick = null
      }
    })()
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.staticfile.org/mathjax/3.1.2/es5/tex-svg.js" ></script>

  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>



</body>
</html>
